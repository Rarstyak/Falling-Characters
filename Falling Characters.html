<!DOCTYPE html>
<html>
	<body style="background-color:black;">
		<canvas id="canvasRegn" width="1040" height="1660"></canvas>
		<script>
			var context;
			var imgBg;
			var imgDrops;
			//Mouse Tracker
			var mouseX;
			var mouseY;
			var mouseOverChar = 0;
			//Last Click Tracker
			var clickX;
			var clickY;
			var click = 0;
			//Canvas Size
			var width = 1040;
			var height = 1660;
			//Drop Size and Array
			var dropx = 420;
			var dropy = 420;
			var dropScale = 0.5;
			var fallingDrops = [];
			//Radar Size
			var radarSize = 525;
			//Background image link list
	//		var srcBGroute = 'images/BG/';
	//		var srcBGStorage = "Desktop_Background-bqSw.jpg";
			//Drop image link list
			var noOfDrops;
			var srcDroproute = 'images/';
			
			var dropData = [	
			//['name(+.png/+bg.png)', 'full name', 'alignment', 'gender', 	'species', 			'class',5 	'age', 		'height', 	'weight', 	'hair1', 	'hair2',10		'eyes', 	'STR', 	'DEX', 	'CON', 	'INT',15'WIS', 	'CHA'	]
				['lissi', 'Lissidellia Illyria Alpine',	'N',	'Female',	'Sylph',			'Witch',	'79yrs',	'6\'0\"',	'140lbs',	'#E6F5FF',	'#F0FFFF',		'#B5C8CC',	'8',	'16',	'17',	'18',	'14',	'10'	],
				['lawrence', 'Lawrence',				'NE',	'Male',		'Undine',			'Witch',	'2mo',		'6\'0\"',	'140lbs',	'#E6F5FF',	'#F0FFFF',		'#B5C8CC',	'8',	'16',	'17',	'18',	'14',	'10'	],
				['doran', 'Doran Ashford',				'LN',	'Male',		'Human',			'Wizard',	'23yrs',	'5\'5\"',	'114lbs',	'#A0A0A0',	'#A5A6A6',		'#ffbf00',	'10',	'14',	'14',	'18',	'14',	'11'	],
				['damain', 'Damain Daytonos',			'CG',	'Male',		'Human',			'Bard',		'54yrs',	'6\'5\"',	'146lbs',	'#A0A0A0',	'#D1D0D0',		'#00A0C7',	'9',	'14',	'12',	'14',	'14',	'16'	],
			//	['gillious', 'Martin Gilson II',		'LE',	'Male',		'Aquian',			'Archmage',	'19yrs',	'6\'6\"',	'???lbs',	'light blue','#FFFFFF',		'red',		'7',	'7',	'13',	'14',	'16',	'16[10]'],
				['nicholas', 'Nicholas Reign Zhou',		'CE',	'Male',		'Muse',				'Rouge',	'39yrs',	'5\'6\"',	'135lbs',	'#1E1E1E',	'#FFFFFF',		'#8C5447',	'10',	'16',	'12',	'17',	'16',	'13'	],
				['rei', 'Rei Fei',						'CG',	'Female',	'1/4 Swan Maiden',	'Eidolon',	'20yrs',	'5\'7\"',	'145lbs',	'#584961',	'#1E1E1E',		'#1C1C1C',	'20',	'16',	'14',	'7',	'10',	'12'	],
				['zhen', 'Zhen Nav',					'CG',	'Male',		'Tiefling',			'Summoner',	'19yrs',	'5\'11\"',	'145lbs',	'#1A1C1B',	'#001E4A',		'#19651E',	'7',	'18',	'14',	'12',	'8',	'18'	]
			];
			noOfDrops = dropData.length;

			//Background
	//		function drawBackground() {
	//			context.drawImage(imgBg, 0, 0); //later make background for each ?character/class? and index in srcBGStorage, recall w/ mouseOverChar
	//		}
			
			function radarX(stat) {
				return (radarSize * dropData[mouseOverChar][12+stat] / 20 * Math.cos((-90+60*stat)*Math.PI/180));
			}
			
			function radarY(stat) {
				return (radarSize * dropData[mouseOverChar][12+stat] / 20 * Math.sin((-90+60*stat)*Math.PI/180));
			}
			
			function drawRadar() {
				context.save();
				context.translate(width/2, height/2);
				//Hexagon
				context.beginPath();
				context.moveTo(radarX(0), radarY(0));	//STR
				context.lineTo(radarX(1), radarY(1));	//DEX
				context.lineTo(radarX(2), radarY(2));	//CON
				context.lineTo(radarX(3), radarY(3));	//INT
				context.lineTo(radarX(4), radarY(4));	//WIS
				context.lineTo(radarX(5), radarY(5));	//CHA
				context.fillStyle = dropData[mouseOverChar][11];	//Eye Color
				context.fill();
				//Labels
				context.textAlign = "center";
				context.font = "20px Comic Sans MS";
				context.strokeStyle = 'black';
				context.lineWidth = 5;
				context.strokeText('STR', radarX(0), radarY(0)+10);	//STR
				context.strokeText('DEX', radarX(1), radarY(1)+10);	//DEX
				context.strokeText('CON', radarX(2), radarY(2)+10);	//CON
				context.strokeText('INT', radarX(3), radarY(3)+10);	//INT
				context.strokeText('WIS', radarX(4), radarY(4)+10);	//WIS
				context.strokeText('CHA', radarX(5), radarY(5)+10);	//CHA
				context.strokeStyle = 'white';
				context.lineWidth = 3;
				context.strokeText('STR', radarX(0), radarY(0)+10);	//STR
				context.strokeText('DEX', radarX(1), radarY(1)+10);	//DEX
				context.strokeText('CON', radarX(2), radarY(2)+10);	//CON
				context.strokeText('INT', radarX(3), radarY(3)+10);	//INT
				context.strokeText('WIS', radarX(4), radarY(4)+10);	//WIS
				context.strokeText('CHA', radarX(5), radarY(5)+10);	//CHA
				context.restore();
			}
			
			//Draw Function
			function draw() {
				//Background
				context.fillStyle = dropData[mouseOverChar][9];	//Hair 1
				document.body.style.background = dropData[mouseOverChar][9];
				context.fillRect(0, 0, width, height);
				//drawBackground();
//
context.save();
context.font = "175px Comic Sans MS";
context.textAlign = "left";
context.fillStyle = '' + dropData[mouseOverChar][10];	//Hair 2
context.fillText('' + dropData[mouseOverChar][2], 0, 150);
context.rotate(90*Math.PI/180);
context.fillText('' + dropData[mouseOverChar][4], 0, -width + 150);
context.textAlign = "right";
context.fillText('' + dropData[mouseOverChar][5], height - 125, -25);
context.restore();
//
				drawRadar();
				context.drawImage(fallingDrops[mouseOverChar].image, width/2 - dropx/2, height/2 - dropy/2, dropx, dropy);
//
context.font = "30px Comic Sans MS";
context.textAlign = "center";
context.fillStyle = '' + dropData[mouseOverChar][9];	//Hair 1
context.fillText('' + dropData[mouseOverChar][1], width/2, height/2 + dropy/2 - 50); 
				//Drops
				for (var i = 0; i < noOfDrops; i++) {
					if (mouseOverChar == i || fallingDrops[i].y > height) {
						//Put back up if added back in or below view
						fallingDrops[i].y = -5 - (dropScale * dropy);
						fallingDrops[i].x = Math.random() * (width - (dropScale * dropx));  
						fallingDrops[i].speed = 3 + Math.random() * 4;
					} else {
						//Draw and Increment
						context.drawImage(fallingDrops[i].image, fallingDrops[i].x, fallingDrops[i].y, (dropScale * dropx), (dropScale * dropy));
						fallingDrops[i].y += fallingDrops[i].speed;
					}
					//check if mouse clicked over char
					if (click && mouseOverChar != i && fallingDrops[i].x < clickX && fallingDrops[i].x + (dropScale * dropx) > clickX && fallingDrops[i].y < clickY && fallingDrops[i].y + (dropScale * dropy) > clickY) {
						mouseOverChar = i;
						click = 0;
					}
				}
				click = 0;
			}
			
			

			//Setup Function
			function setup() {
				var canvas = document.getElementById('canvasRegn');
				//Track mouse position in mouseX and mouseY
				canvas.addEventListener('mousemove', function(evt) {
					var rect = canvas.getBoundingClientRect();
					mouseX = evt.clientX - rect.left;
					mouseY = evt.clientY - rect.top;
				}, false)
				//Track last click in clickX and clickY, turning on click
				canvas.addEventListener('click', function(evt) {
					var rect = canvas.getBoundingClientRect();
					clickX = evt.clientX - rect.left;
					clickY = evt.clientY - rect.top;
					click = 1;
				}, false)
				//Set up images
				if (canvas.getContext) {
					context = canvas.getContext('2d');
		//			imgBg = new Image();
		//			imgBg.src = '' + srcBGroute + srcBGStorage;
					setInterval(draw, 36);
					//Loop Through and add drops
					for (i = 0; i < noOfDrops; i++) {
						var fallingDr = new Object();
						fallingDr["image"] = new Image();
						fallingDr.image.src = '' + srcDroproute + dropData[i][0] + '.png';
						fallingDr["x"] = Math.random() * (width - (dropScale * dropx));
						fallingDr["y"] = Math.random() * (height - (dropScale * dropy));
						fallingDr["speed"] = 3 + Math.random() * 4;
						fallingDrops.push(fallingDr);
					}
				}
			}
			
			//Setup Call
			setup();

		</script>
	</body>
</html>


